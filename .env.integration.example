# Example environment variables for Fabric integration tests.
# Copy to .env.integration and fill in values.

# Required for integration tests
FABRIC_INTEGRATION_TESTS=1
FABRIC_TEST_WORKSPACE_NAME=your-workspace-name
FABRIC_TEST_LAKEHOUSE_NAME=your-lakehouse-name
FABRIC_TEST_WAREHOUSE_NAME=your-warehouse-name
FABRIC_TEST_SQL_DATABASE=your-lakehouse-sql-database

# Pipeline copy inputs - external source (e.g., PostgreSQL)
# Set all to enable copy activity test
FABRIC_TEST_SOURCE_CONNECTION_ID=your-source-connection-id
FABRIC_TEST_SOURCE_TYPE=AzurePostgreSqlSource
FABRIC_TEST_SOURCE_SCHEMA=public
FABRIC_TEST_SOURCE_TABLE=your-source-table
FABRIC_TEST_DEST_CONNECTION_ID=your-destination-lakehouse-connection-id
FABRIC_TEST_DEST_TABLE_NAME=your-destination-table

# Alternative table for copy testing (optional)
FABRIC_TEST_SOURCE_TABLE_2=your-second-source-table
FABRIC_TEST_DEST_TABLE_NAME_2=your-second-destination-table

# SQL mode copy inputs (optional)
# Lakehouse connection for source_access_mode="sql" in copy activity
FABRIC_TEST_SOURCE_SQL_CONNECTION_ID=your-lakehouse-connection-id
FABRIC_TEST_SOURCE_SQL_QUERY=SELECT * FROM dbo.your_source_table

# Semantic model test inputs (optional)
FABRIC_TEST_SEMANTIC_MODEL_TABLE=your-semantic-table
FABRIC_TEST_SEMANTIC_MODEL_COLUMNS='[{"name":"id","data_type":"int64"},{"name":"name","data_type":"string"}]'
FABRIC_TEST_SEMANTIC_MODEL_TABLE_2=your-semantic-table-2
FABRIC_TEST_SEMANTIC_MODEL_COLUMNS_2='[{"name":"id","data_type":"int64"},{"name":"value","data_type":"decimal"}]'
FABRIC_TEST_SEMANTIC_MODEL_SCHEMA=dbo

# Dataflow for pipeline activity tests (optional)
FABRIC_TEST_DATAFLOW_NAME=your-dataflow-name

# Azure service principal auth for DefaultAzureCredential (optional)
AZURE_TENANT_ID=your-tenant-id
AZURE_CLIENT_ID=your-client-id
AZURE_CLIENT_SECRET=your-client-secret

# Power BI REST configuration (optional, defaults shown)
POWERBI_BASE_URL=https://api.powerbi.com/v1.0/myorg
POWERBI_SCOPES=https://analysis.windows.net/powerbi/api/.default
POWERBI_API_CALL_TIMEOUT=30
POWERBI_REFRESH_POLL_INTERVAL=5
POWERBI_REFRESH_WAIT_TIMEOUT=1800
